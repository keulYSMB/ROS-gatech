
<launch>


 <node respawn="true" pkg="joy"
        type="joy_node" name="turtle_joy" >
    <param name="dev" type="string" value="/dev/input/js0" />
    <param name="deadzone" value="0.12" />
  

  <!-- Axes -->
  <param name="axis_linear" value="1" type="int"/>
  <param name="axis_angular" value="3" type="int"/>
  <param name="scale_linear" value="1" type="double"/>
  <param name="scale_angular" value="1" type="double"/>
  </node>

  <node pkg="floor_mapping" type="camshift.py" name="blob_tracker"> 
       <remap from="/vrep/visionSensor" to="/vrep/follower/visionSensor"/>
   </node> 

  <node pkg="floor_mapping" type="floor_mapping_teleop" name="joyBlob">
	<remap from="/vrep/leader/twistCommand" to="/vrep/follower/twistCommand"/>
  </node>

  <node pkg="floor_mapping" type="floor_projector.py" name="floor_projector">
      <param name="floor_size_pix" value="500"/>
      <param name="horizon_offset_pix" value="20"/>
      <param name="floor_size_meter" value="5.0"/>
      <param name="target_frame" value="/follower"/>
      <remap from="/floor_projector/probabilities" to="/probability"/>
      <remap from="/floor_projector/info" to="/vrep/follower/visionSensorInfo"/>
  </node>


  <node pkg="floor_mapping" type="floor_mapping_exe" name="floor_mapper" output="screen">
      <param name="floor_size_pix" value="1000"/>
      <param name="floor_size_meter" value="50.0"/>
      <param name="projected_floor_size_meter" value="4.2"/>
      <param name="target_frame" value="/world"/>
      <remap from="/floor_mapper/projection" to="/floor_projector/floor"/>
  </node>

</launch>
